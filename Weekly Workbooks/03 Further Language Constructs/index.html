<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>03 Further Language Constructs</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">03 Further Language Constructs</h1>
</header>
<h2 id="further-language-constructs">Further Language Constructs</h2>
<h3 id="task-1-introduction">Task 1: Introduction</h3>
<p>The aim of this workbook is to introduce further concepts and constructs from the Java programming language. In order to support this, we will continue working with the “Shapes” projects from last two weeks, which you will extend and enhance with additional features and functionality. As before, each section in this workbook links to some fragments of teaching materials that introduces a concept, as well as an activity to undertake that will allow you to apply your knowledge.</p>
<h1 id="section"></h1>
<h3 id="task-2-abstract-classes">Task 2: Abstract Classes</h3>
<p><a href='02%20Abstract%20Classes/slides/segment-1.pdf' target='_blank'> <img src="../../resources/icons/slides.png" /> </a> <a href='02%20Abstract%20Classes/video/segment-1.mp4' target='_blank'> <img src="../../resources/icons/video.png" /> </a></p>
<p>An inspection of the code inside the <code>TwoDimensionalShape</code> class (found in <code>src/main/java/</code> folder of the Maven project) will reveal that the class has two <strong>abstract</strong> methods. These are methods <em>without</em> implementations - they have signatures (“prototypes”), but no internal code. View the slides and video lecture above to find out more about the notion of <strong>abstract</strong> and the reasons why we might want to use this feature of Java.</p>
<p>Now, inside your <code>Triangle</code> class, write complete <code>calculateArea</code> and <code>calculatePerimeterLength</code> methods so that each performs a suitable calculation and returns an appropriate result. These two methods will <strong>override</strong> the abstract (blank) methods defined in the <code>TwoDimensionalShape</code> class.</p>
<p>The reason why these two methods were originally defined as <strong>abstract</strong> in the <code>TwoDimensionalShape</code> class is as follows… All shapes <em>will</em> have an area and perimeter length, however: these will be <em>calculated</em> differently depending on the shape being represented. (Circles this is done using their radius and Pi, with Rectangles this is down using their width and height etc.) As such, we can’t write anything <em>generally useful</em> inside the <code>TwoDimensionalShape</code> class - we have to leave everything down to the subclasses themselves. That said, it is still worth <em>defining</em> that all shapes have area and perimeter calculations (even if they have to be left blank in the <code>TwoDimensionalShape</code> class).</p>
<p>Once you have implemented area and perimeter calculation methods for your <code>Triangle</code> class, create a few <code>Triangles</code> with different length sides and call your freshly created methods to make sure they work correctly.</p>
<p><strong>Hints &amp; Tips:</strong><br />
Calculating the perimeter length of a triangle is easy.<br />
In order to calculate the area you might like to use <a href="https://www.mathsisfun.com/geometry/herons-formula.html" target="_blank">Herons Formula</a>.</p>
<h1 id="section-1"></h1>
<h3 id="task-3-interfaces">Task 3: Interfaces</h3>
<p><a href='03%20Interfaces/slides/segment-1.pdf' target='_blank'> <img src="../../resources/icons/slides.png" /> </a> <a href='03%20Interfaces/video/segment-1.mp4' target='_blank'> <img src="../../resources/icons/video.png" /> </a></p>
<p>As we have discussed previously, some shapes have a number of variants, whilst others (such as Circles) have only one. It would be useful to have some kind of “marker” that indicates whether or not a particular shape has multiple variants.</p>
<p>One way to do this is using a Java <strong>Interface</strong> - this is a mechanism, independent of the class hierarchy, that allows us to “mark” classes as having particular characteristics. You can think of an Interface as a “contract” that the class “conforms to” - guaranteeing to provide certain properties and features. Take a look at the slides and video above for more detailed information about interfaces.</p>
<p>As an illustration of interfaces in action, we have provided a <code>MultiVariantShape</code> interface in the Maven project that can be used to indicate that a shape has more than one variant. We can mark our <code>Triangle</code> class as a shape which has multiple variants by updating the class definition so that it <code>implements</code> the <code>MultiVariantShape</code> interface:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">class</span> Triangle <span class="kw">extends</span> TwoDimensionalShape <span class="kw">implements</span> MultiVariantShape</span></code></pre></div>
<p>This indicates that the <code>Triangle</code> class conforms to the properties and features of the <code>MultiVariantShape</code> interface.</p>
<p>Elsewhere in our code, we can test to see if a particular object conforms to an interface by using the <code>instanceof</code> keyword (I know that this is not a particularly suitable name, but it is reused from another part of Java). We can test any shape object to see if it implements the <code>MultiVariantShape</code> interface using the following code:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">if</span>(shape <span class="kw">instanceof</span> MultiVariantShape) <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;This shape has multiple variants&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">else</span> <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;This shape has only one variant&quot;</span>)</span></code></pre></div>
<p>You may have noticed that the <code>MultiVariantShape</code> interface defines a method called <code>getVariant</code> that should return the particular variant of a shape. This allows code outside of the class to interrogate an instance in order to find out which variant it is. You will also notice that in the interface definition, their is no code that provides an implementation of this method - it your job as the programmer’s to write this ! Luckily you wrote this method in the previous workbook, so it is therefore a quick and an easy job to implement the <code>MultiVariantShape</code> interface at this stage !</p>
<h1 id="section-2"></h1>
<h3 id="task-4-arrays">Task 4: Arrays</h3>
<p><a href='04%20Arrays/slides/segment-1.pdf' target='_blank'> <img src="../../resources/icons/slides.png" /> </a> <a href='04%20Arrays/video/segment-1.mp4' target='_blank'> <img src="../../resources/icons/video.png" /> </a></p>
<p>Common to most programming languages, Java provides an <strong>array</strong> data structure (similar in many ways to that found in C). In Java, arrays can hold primitives (e.g. <code>int</code>, <code>float</code>, <code>char</code>, <code>boolean</code> etc) but ALSO complex Objects (such as <code>Strings</code>, <code>Robots</code> or even <code>Triangles</code>) !</p>
<p>Take a look at the slides and video above for more information on using arrays in Java. Then (in your main method) create an array of size 100 that can hold <code>TwoDimensionalShapes</code>. Fill this array with randomly chosen shapes (<code>Circles</code>, <code>Rectangles</code>, <code>Triangles</code>). In order to fill your array with a random selection of shapes, you may like to make use of the Java <code>Math.random()</code> method. This will return a randomly selected double precision floating point number (between 0.0 and 1.0). You will need to write an IF statement and use some cunning maths to look at this number and decide which shape to create.</p>
<p>Once you have filled the array with 100 random shapes, loop through it and print out the details of each shape in turn. At the end of your main method, print out a summary of how many <code>Triangles</code> were in the array. In order to do this, you will need to make use of an integer counter variable to keep a tally of the number of triangles encountered. You will also need to make use of the <code>instanceof</code> operator to check the type of each instance in the array.</p>
<h1 id="section-3"></h1>
<h3 id="task-5-class-variables-and-methods">Task 5: Class Variables and Methods</h3>
<p><a href='05%20Class%20Variables%20and%20Methods/slides/segment-1.pdf' target='_blank'> <img src="../../resources/icons/slides.png" /> </a> <a href='05%20Class%20Variables%20and%20Methods/video/segment-1.mp4' target='_blank'> <img src="../../resources/icons/video.png" /> </a></p>
<p>In the previous task, we counted the number of <code>Triangles</code> in the array by looping through it. But there is an alternative way to achieve the same objective (without putting code inside the main loop). We could maintain a counter of how many <code>Triangles</code> have been created <em>inside</em> the Triangle class and increment this each time a Triangle is instantiated. This would encapsulate the “population” count inside the class itself - which is nice.</p>
<p>But there is a problem this with approach - we only want <em>one</em> counter for the whole program (not a counter inside <em>each and every</em> <code>Triangle</code> instance). For this reason, we can’t just use a “normal” variable. View the slides and audio narration above to gain an understanding of the difference between <strong>instance</strong> and <strong>class</strong> variables. Then add an integer <strong>class</strong> variable to your <code>Triangle</code> class to keep track of how many <code>Triangles</code> have been created. Once you have declared with variable, you can update your <code>Triangle</code> constructor method so that the counter is incremented each time a new <code>Triangle</code> is created. You should also add a <code>getPopulation</code> method to your <code>Triangle</code> class that returns the current value of this counter variable, so that it can be accessed from outside the class.</p>
<p>Update your main method, so that it prints out the number of <code>Triangles</code> that exist using this class variable population counter <em>as well as</em> the previous counter from inside the loop (just to make sure both counters agree !)</p>
<p>Just as we can create <strong>class variables</strong> that are associated with the class (rather than each instance), we can also write <strong>class methods</strong> which are similarly associated with the class (rather than the instances). You have already encountered just such a class method (namely the <code>random</code> method of the <code>Math</code> class). Have a think about the reasons why you might wish to write a class method, rather than an instance method. Considering the <code>Triangle</code> class - might some of its methods be better suited to being class methods, rather than instance methods ?</p>
<h1 id="section-4"></h1>
<h3 id="task-6-casting">Task 6: Casting</h3>
<p>Let’s imagine that we wanted to find out the variant of all <code>Triangles</code> that are stored in our array. We would need to be very careful about how we went about interrogating the elements of that array. We can’t call <code>getVariant</code> on just any element, since not all objects will actually <em>be</em> a <code>Triangle</code> (it might be a <code>Circle</code> for example, which doesn’t support the <code>getVariant</code> method !) Java will in fact block us from trying to call <code>getVariant</code> on a <code>TwoDimentionalShape</code> (try it and see !).</p>
<p>To solve this problem, Java allows us <strong>cast</strong> objects from one class into a <em>more specific class</em>. For example, we can “down-cast” (or “narrow-cast”) any <code>TwoDimentionalShape</code> into one of its sub-classes. We can then quite happily call methods of that subclass on the instance. For example, in the code fragment below we extract the first element from the array, convert it into a <code>Triangle</code> and then calle the <code>getVariant</code> method on it:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1"></a>TwoDimentionalShape[] shapes = <span class="kw">new</span> TwoDimentionalShape[<span class="dv">100</span>];</span>
<span id="cb3-2"><a href="#cb3-2"></a>...</span>
<span id="cb3-3"><a href="#cb3-3"></a>TwoDimentionalShape firstShape = shapes[<span class="dv">0</span>];</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">// Down-cast the shape into a triangle</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>Triangle firstTriangle = (Triangle)firstShape;</span>
<span id="cb3-6"><a href="#cb3-6"></a>TriangleVariant variant = firstTriangle.<span class="fu">getVariant</span>();</span></code></pre></div>
<p>The down-casting code above asks Java to “trust” that the <code>firstShape</code> is a <code>Triangle</code>. As a consequence of this, we can then treat this object as though it were a <code>Triangle</code> and thus call any method of the <code>Triangle</code> class on it.</p>
<p>This is fine, <em>provided</em> that the shape at element 0 of the array <em>is actually</em> a <code>Triangle</code>.<br />
But what happens if it <em>isn’t</em> ?<br />
What if it is a <code>Circle</code> instead ?<br />
Will Java let us convert a <code>Circle</code> into a <code>Triangle</code> in this way ?</p>
<p>Why not try it and see what happens !</p>
<h1 id="section-5"></h1>
<h3 id="task-7-multiple-inheritance">Task 7: Multiple Inheritance</h3>
<p><a href='07%20Multiple%20Inheritance/slides/segment-1.pdf' target='_blank'> <img src="../../resources/icons/slides.png" /> </a> <a href='07%20Multiple%20Inheritance/video/segment-1.mp4' target='_blank'> <img src="../../resources/icons/video.png" /> </a></p>
<p>As a final topic for this workbook, let us think about the challenging concept of <em>multiple</em> inheritance. In some situations it might be useful for a class to have <em>multiple</em> parents/superclasses. This would allow it to derive methods and attributes from numerous different sources. This is however dangerous - take a look at the slides and video above to find out why !</p>
<p>Java’s solution to this is to only allow single inheritance :o(<br />
But to augment this with <strong>interfaces</strong> :o)</p>
<p>Although a bit of a compromise, this mechanism allows us to gain <em>some</em> of the benefits of multiple inheritance, whilst avoiding many of the main pitfalls.</p>
<h1 id="section-6"></h1>
</body>
</html>
